(function(i){var h=function(a){this.elem=null;this.step=0;this.stepInterval=400;this.interval=3E3;this.dir="left";this.hoverPause=this.autoPlay=!0;this.pausing=!1;this.timer=this.timerStep=null;this.init(a)};h.prototype={constructor:h,init:function(a){this.extend(a,this);if(!this.elem)return!1;this.elem.innerHTML+=this.elem.innerHTML;this.loadStyle();this.hoverPause&&this.bindEvents();this.autoPlay&&this.startScroll()},loadStyle:function(){var a=this.elem.children;if("left"==this.dir||"right"==this.dir)this.elem.style.width=a[0].offsetWidth*a.length+"px";"right"==this.dir&&0==this.elem.offsetLeft&&(this.elem.style.left=-this.elem.offsetWidth/2+"px");"down"==this.dir&&0==this.elem.offsetTop&&(this.elem.style.top=-this.elem.offsetHeight/2+"px")},bindEvents:function(){var a=this;this.bind(this.elem.parentNode,"mouseover",function(){a.stop();a.pausing=!0});this.bind(this.elem.parentNode,"mouseout",function(){a.startScroll();a.pausing=!1})},stop:function(){clearInterval(this.timer)},doScroll:function(){var a=this,b,d,f,e,g;"left"==this.dir||"right"==this.dir?(b="left",d="offsetLeft",g=this.elem.offsetWidth/2):(b="top",d="offsetTop",g=this.elem.offsetHeight/2);e="left"==this.dir||"up"==this.dir?-this.step:this.step;if(0==this.stepInterval)f=this.fixTarget(e,this.elem[d]+e,g),this.elem.style[b]=f+"px";else if(null==this.timerStep){this.stop();var c=50/a.stepInterval*e,c=0>c?Math.ceil(c):Math.floor(c);this.timerStep=setInterval(function(){c=c>0?Math.min(c,e):Math.max(c,e);f=a.fixTarget(c,a.elem[d]+c,g);a.elem.style[b]=f+"px";e=e-c;if(e==0){clearInterval(a.timerStep);a.timerStep=null;a.autoPlay&&a.startScroll()}},30)}},fixTarget:function(a,b,d){return 0>a&&Math.abs(b)>=d?0:0<a&&0<=b?-d:b},changeDir:function(a){a!=this.dir&&(this.dir=a,this.loadStyle());this.doScroll()},startScroll:function(){var a=this;this.stop();this.timer=setInterval(function(){a.doScroll()},a.interval)},extend:function(a,b){for(name in a)b[name]=a[name]},bind:function(a,b,d){a.addEventListener?a.addEventListener(b,d,!1):a.attachEvent?a.attachEvent("on"+b,d):a["on"+b]=hanlder}};i.Marquee=h})(window);